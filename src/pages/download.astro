---
import Layout from '../layouts/Layout.astro';
import DelayedDownload from '../components/DelayedDownload.vue';

export const prerender = false;

const encodedUrl = Astro.url.searchParams.get('v') ?? '';

if (!encodedUrl) {
    return Astro.redirect('/');
}

const url = decodeURIComponent(encodedUrl);
---

<Layout title="Download starting..." skipVideoAd={true}><DelayedDownload client:idle delay={1000} url={url} /></Layout>
